# 📊 시뮬레이션 트레이딩 대시보드 가이드

## 개요

시뮬레이션 트레이딩 대시보드는 하이브리드 트레이딩 전략의 백테스팅 결과를 시각화하고 분석하는 웹 기반 대시보드입니다.

## 주요 기능

### 1. 포트폴리오 성과 분석
- **포트폴리오 가치 변화**: 시간에 따른 포트폴리오 가치 변화를 시각화
- **수익률 분포**: 일간 수익률의 분포를 히스토그램으로 표시
- **낙폭 분석**: 최대 낙폭과 낙폭 기간을 분석

### 2. 거래 분석
- **거래 결과 분석**: 수익/손실 거래의 비율과 횟수
- **거래 상세 내역**: 각 거래의 상세 정보 (날짜, 종목, 거래량, 거래금액)
- **신호별 통계**: 매수/매도/관망 신호의 분포

### 3. 위험 지표
- **변동성**: 포트폴리오의 변동성 (연간화)
- **샤프 비율**: 위험 대비 수익률 지표
- **VaR/CVaR**: 위험 측정 지표

### 4. 섹터별 성과
- **섹터별 평균 수익률**: 각 섹터의 성과 비교
- **섹터 분포**: 거래된 종목들의 섹터별 분포

## 설치 및 실행

### 1. 필요한 패키지 설치
```bash
pip install flask plotly pandas numpy loguru
```

### 2. 시뮬레이션 데이터 생성
```bash
# 기본 시뮬레이션 실행
python simple_simulation.py

# 하이브리드 시뮬레이션 실행 (하이브리드 분석 데이터 필요)
python hybrid_simulation.py
```

### 3. 대시보드 실행
```bash
# 시뮬레이션 대시보드 실행
python simulation_dashboard.py

# 또는 실행 스크립트 사용
python run_simulation_dashboard.py
```

### 4. 브라우저에서 접속
```
http://localhost:8083
```

## 대시보드 구성

### 상단 요약 카드
- **초기 포트폴리오 가치**: 시뮬레이션 시작 시 포트폴리오 가치
- **최종 포트폴리오 가치**: 시뮬레이션 종료 시 포트폴리오 가치
- **총 수익률**: 전체 기간 수익률
- **총 거래 수**: 시뮬레이션 기간 동안의 총 거래 횟수
- **승률**: 수익 거래의 비율
- **시뮬레이션 기간**: 시뮬레이션 실행 기간

### 성능 지표 카드
- **총 수익률**: 전체 기간 수익률
- **연간 수익률**: 연간화된 수익률
- **변동성**: 포트폴리오 변동성
- **샤프 비율**: 위험 대비 수익률
- **최대 낙폭**: 최대 낙폭 비율

### 차트 영역
1. **포트폴리오 가치 변화**: 시간에 따른 포트폴리오 가치 변화
2. **수익률 분포**: 일간 수익률의 분포 히스토그램
3. **낙폭 분석**: 누적 수익률 대비 낙폭
4. **거래 결과 분석**: 수익/손실 거래 비율
5. **섹터별 성과**: 섹터별 평균 수익률
6. **위험 지표**: 변동성, VaR, CVaR

### 거래 상세 내역
- 거래 날짜, 거래 유형, 종목명, 거래량, 거래금액, 섹터 정보

## 시뮬레이션 유형

### 1. 기본 시뮬레이션 (simple_simulation.py)
- 랜덤 수익률 기반 시뮬레이션
- 실제 시장 데이터와 무관한 테스트용
- 기본적인 백테스팅 기능 제공

### 2. 하이브리드 시뮬레이션 (hybrid_simulation.py)
- 하이브리드 분석 결과를 기반으로 한 시뮬레이션
- 뉴스 분석과 기술적 분석을 결합한 전략 테스트
- 실제 분석 데이터 활용

## 데이터 구조

### 시뮬레이션 결과 CSV 파일 구조
```csv
date,portfolio_value,trades,trade_value,stock_name,sector,signal,daily_return
2024-01-01,10000000,0,0,,,,
2024-01-02,10050000,100,15000000,삼성전자,전자,매수,0.005
...
```

### 필드 설명
- **date**: 거래 날짜
- **portfolio_value**: 해당 날짜의 포트폴리오 가치
- **trades**: 거래량 (양수: 매수, 음수: 매도, 0: 거래 없음)
- **trade_value**: 거래 금액
- **stock_name**: 거래 종목명
- **sector**: 종목 섹터
- **signal**: 거래 신호 (매수/매도/관망)
- **daily_return**: 일간 수익률

## 성능 지표 해석

### 1. 수익률 지표
- **총 수익률**: 전체 기간 수익률
- **연간 수익률**: 1년 기준으로 환산한 수익률

### 2. 위험 지표
- **변동성**: 수익률의 표준편차 (높을수록 위험)
- **샤프 비율**: 위험 대비 초과수익률 (높을수록 좋음)
- **최대 낙폭**: 최대 손실 구간 (낮을수록 좋음)

### 3. 거래 지표
- **승률**: 수익 거래의 비율
- **거래 빈도**: 일정 기간 동안의 거래 횟수

## 사용 팁

### 1. 시뮬레이션 실행
- 다양한 기간으로 시뮬레이션 실행하여 전략의 안정성 확인
- 하이브리드 분석 데이터가 있을 때 더 현실적인 결과

### 2. 결과 분석
- 수익률과 위험 지표를 함께 고려하여 전략 평가
- 낙폭 분석을 통해 최악의 상황 대비 준비
- 섹터별 성과를 통해 분산 투자 효과 확인

### 3. 전략 개선
- 승률과 수익률의 균형점 찾기
- 거래 빈도 조정을 통한 수수료 최적화
- 위험 지표를 고려한 포지션 사이징

## 문제 해결

### 1. 대시보드가 실행되지 않는 경우
- 필요한 패키지가 설치되어 있는지 확인
- 포트 8083이 사용 중인지 확인
- 시뮬레이션 데이터 파일이 존재하는지 확인

### 2. 차트가 표시되지 않는 경우
- 브라우저의 JavaScript가 활성화되어 있는지 확인
- 인터넷 연결 상태 확인 (Plotly CDN 사용)

### 3. 데이터가 로드되지 않는 경우
- 시뮬레이션 데이터 파일의 형식 확인
- 파일 인코딩이 UTF-8인지 확인

## 추가 기능 개발

### 향후 개선 사항
1. **다중 전략 비교**: 여러 전략의 성과 비교
2. **실시간 업데이트**: 실시간 데이터 연동
3. **백테스팅 파라미터 조정**: 전략 파라미터 최적화
4. **포트폴리오 리밸런싱**: 자동 리밸런싱 기능
5. **리스크 관리**: 손절매, 익절매 기능

## 연락처 및 지원

문제가 발생하거나 개선 사항이 있으시면 이슈를 등록해주세요.

---

**참고**: 이 대시보드는 교육 및 연구 목적으로 제작되었습니다. 실제 투자에 사용하기 전에 충분한 검증이 필요합니다. 